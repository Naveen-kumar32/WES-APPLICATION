<!DOCTYPE html>
<html>

<head>
  <title>Update Testdata</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.7.2/dist/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-datepicker@1.9.0/dist/js/bootstrap-datepicker.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"> 
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    label {
        font-size: 20px;
        height: 35px;
        color: #000000;
      }
      .col-1
      {
        font-size: 20px;
      }
      
      input,
      select {
        height: 40px;
        font-size: 18px;
        padding-left:10px ;
       
      }
  
      input[type="submit"] {
        font-size: 25px;
        
      }
  
      table th {
        font-weight: bold;
        background-color: #f9f9f9;
      }
      
  
      h1 {
        font-size: 25px;
      }
      * {
    box-sizing: border-box;
  }
  .dark-input-bg {
    border-color: #222; 
  }
  
  
  </style>

<body>
  <div style="display: flex;justify-content: center;align-items: center;margin-top: 40px;">
  <h1>Payment Testdata</h1>
</div>
  <form id="updateForm" action="{% url 'Accounts:payment' data_id=data_id %}" method="post">
    {% csrf_token %}
<div class="p-5">
    <div class="row">
      
    <div class="col-4 p-2 ">
        <div>PONO : {{ form.PONo.value|default:''}}</div>
      </div>
      <div class="col-4 p-2">
        <div>POIssuedby : {{ form.POIssuedby.value|default:''}}</div>
      </div>
    <div class="col-4 p-2 ">
      <div>ClientName : {{ form.ClientName.value|default:''}}</div>
  </div>
    </div>

    <div class="row">
      <div class="col-4 p-2 ">
        <div>Shipname : {{ form.Shipname.value|default:''}}</div>
      </div>
    <div class="col-4 p-2 ">
      <div>POAmount : {{ form.POAmount.value|default:''}}</div>
  </div>
    <div class="col-4 p-2 ">
      <div>InvoiceNo : {{ form.InvoiceNo.value|default:''}}</div>
      </div>
    </div>

  </div>
    
    <div class="container-fluid m-3">
     
      <div class="container-fluid">

        <div class="row">
          <div class="col-3 p-3 ml-1">
            <label for="id">id:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input  class="form-control dark-input-bg"   type="text" id="id" value="{{ form.id.value|default:''}}" name="id" pattern="^[a-zA-Z\d@#$%^&+=-]*$"
            title="enter valid input" required oninput="validateInput(this)">          
          </div>
        </div>

        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="transactioncode">transactioncode:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input  required class="form-control dark-input-bg"   type="text" id="transactioncode" value="{{ form.transactioncode.value|default:''}}" name="transactioncode"
      title="enter valid input">
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="date" class="col-1 col-form-label">areceiveddate</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input  class="form-control dateclass dark-input-bg"   type="text"  id="date"
              value="{{ form.areceiveddate.value|default:''}}" name="areceiveddate" readonly>
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="date" class="col-1 col-form-label">a2ndpaymentReceiveddate</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input  class="form-control dateclass dark-input-bg"   type="text"  id="date"
            value="{{ form.a2ndpaymentReceiveddate.value|default:''}}" name="a2ndpaymentReceiveddate" readonly>
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="receivedamount">receivedamount:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input required class="form-control dark-input-bg"   type="number" id="receivedamount" value="{{ form.receivedamount.value|default:''}}" name="receivedamount"
      pattern="^(?:\d+(?:\.\d*)?|\. \d+)?$|^$" title="enter valid input" oninput="validateInput(this)">
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="receivedamountCurrency">receivedamountCurrency:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <select class="form-select dark-input-bg"  id="receivedamountCurrency" name="receivedamountCurrency">
              <option value=""  selected>Select receivedamountCurrency</option>
              <option value="USD" {% if form.receivedamountCurrency.value == 'USD' %} selected {% endif %}>USD</option>
              <option value="INR" {% if form.receivedamountCurrency.value == 'INR' %} selected {% endif %}>INR</option>
              <option value="SGD" {% if form.receivedamountCurrency.value == 'SGD' %} selected {% endif %}>SGD</option>
            </select>
      
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="dc">dc:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input  class="form-control dark-input-bg"   type="number" id="dc" value="{{ form.dc.value|default:''}}" name="dc" pattern="^(?:\d+(?:\.\d*)?|\.\d+)?$|^$"
            title="enter valid input" oninput="validateInput(this)">
      
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="discountcurrency">discountcurrency:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <select class="form-select dark-input-bg"id="discountcurrency" name="discountcurrency">
              <option value="" disabled selected>Select discountcurrency</option>
              <option value="USD" {% if form.discountcurrency.value == 'USD' %} selected {% endif %}>USD</option>
              <option value="INR" {% if form.discountcurrency.value == 'INR' %} selected {% endif %}>INR</option>
              <option value="SGD" {% if form.discountcurrency.value == 'SGD' %} selected {% endif %}>SGD</option>
            </select>
      
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="Invcurrency">InvoiceCurrency:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <select  required class="form-select dark-input-bg"id="Invcurrency" name="Invcurrency">
              <option value="" disabled selected>Select Invcurrency</option>
              <option value="USD" {% if form.Invcurrency.value == 'USD' %} selected {% endif %}>USD</option>
              <option value="INR" {% if form.Invcurrency.value == 'INR' %} selected {% endif %}>INR</option>
              <option value="SGD" {% if form.Invcurrency.value == 'SGD' %} selected {% endif %}>SGD</option>
            </select>
      
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="outstandingBalance">OutstandingBalance</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input required class="form-control dark-input-bg"   type="number" id="outstandingBalance" value="{{ form.outstandingBalance.value|default:''}}"
      name="outstandingBalance"  title="enter valid input"
      oninput="validateInput(this)">
          </div>
        </div>


        <div class="row">
          <div class="col-3 p-3 ml-2">
            <label for="supt">supt:</label>
          </div>
          <div class="col-1   p-3">
            :
          </div>
          <div class="col-5   p-3">
            <input  class="form-control dark-input-bg"   type="number" id="supt" value="{{ form.supt.value|default:''}}" name="supt"
            pattern="^(?:\d+(?:\.\d*)?|\.\d+)?$|^$" title="enter valid input" oninput="validateInput(this)">
          </div>
        </div>

        
      </div>
    </div>
     

      
      
      <div style="margin-left: 100px;margin-top: 40px;margin-bottom: 100px">
      
        <button class="btn btn-lg  btn-primary" style="margin-right: 250px;" type="submit">Update</button>
        <button class="btn btn-lg  btn-danger" type="button" onclick="back()">Cancel</button>
      </div>

    
      

  
  </form>




  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script>

    $(document).ready(function () {
      flatpickr(".dateclass", {
        dateFormat: "d-M-Y",
      });
    });
    $(document).ready(function () {
      $('#updateForm').on('submit', function (event) {
        event.preventDefault();
        var formData = new FormData(this);

        $.ajax({
          url: $(this).attr('action'),
          type: $(this).attr('method'),
          data: formData,
          processData: false,
          contentType: false,
          success: function (response) {
            window.history.back();
          },
          error: function (xhr, status, error) {
            console.log(error);
          }
        });
      });
    });

    
    function back() {
      window.history.back();
    }

    function validateInput(element) {

      if (element.id)
        var regex = new RegExp(element.pattern);
      if (!regex.test(element.value)) {
        element.setCustomValidity(element.title);
      } else {
        element.setCustomValidity('');
      }
    }
  </script>

</body>

</html>